{"name": "test_apply_promo_code_4", "status": "failed", "statusDetails": {"message": "AssertionError: assert 'Coupon code already applied!' in 'Coupon code applied successfully.'\n +  where 'Coupon code applied successfully.' = <selenium.webdriver.remote.webelement.WebElement (session=\"71c3f1ca94762c196537f7b1060c941f\", element=\"f.E61788614798698857E884D7B20A9DEA.d.45B73267C8A683C307252B04669B82CB.e.169\")>.text", "trace": "self = <final_work.TestValidate object at 0x0000024DF55996A0>\nget_driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"71c3f1ca94762c196537f7b1060c941f\")>\n\n    def test_apply_promo_code_4(self, get_driver):\n        with allure.step('Авторизоваться на сайте'):\n            authorization(get_driver)\n            time.sleep(3)\n        with allure.step('Добавить пиццу \"Ветчина и грибы\" в \"Корзину\"'):\n            add_pizza(get_driver)\n            time.sleep(3)\n        with allure.step('Примените промокод GIVEMEHALYAVA.'):\n            get_driver.find_element(By.CSS_SELECTOR, '#coupon_code').send_keys('GIVEMEHALYAVA')\n            time.sleep(3)\n        with allure.step('Нажать \"Применить купон\"'):\n            get_driver.find_element(By.XPATH, '//*[@value=\"Применить купон\"]').click()\n            time.sleep(3)\n        with allure.step('Нажать \"Прейти к оплате\"'):\n            get_driver.find_element(By.XPATH, '//*[@class=\"checkout-button button alt wc-forward\"]').click()\n            time.sleep(3)\n        with allure.step('Нажать чек-бокс \"I have read and agree to the website terms and conditions\"'):\n            get_driver.find_element(By.XPATH, '//*[@id=\"terms\"]').click()\n            time.sleep(3)\n        with allure.step('Нажать \"Оформить заказ\"'):\n            get_driver.find_element(By.CSS_SELECTOR, '#place_order').click()\n            time.sleep(3)\n        with allure.step('Добавить пиццу \"Ветчина и грибы\" в \"Корзину\"'):\n            add_pizza(get_driver)\n            time.sleep(3)\n        with allure.step('Очистить поле \"Промокод\"'):\n            el = get_driver.find_element(By.CSS_SELECTOR, '#coupon_code')\n            el.clear()\n            time.sleep(3)\n        with allure.step('Примените промокод GIVEMEHALYAVA.'):\n            get_driver.find_element(By.CSS_SELECTOR, '#coupon_code').send_keys('GIVEMEHALYAVA')\n            time.sleep(3)\n        with allure.step('Нажать \"Применить купон\"'):\n            get_driver.find_element(By.XPATH, '//*[@value=\"Применить купон\"]').click()\n            time.sleep(3)\n        with allure.step('Проверить, что второй раз промокод уже не срабатывает для пользователя.'):\n            coupon = get_driver.find_element(By.XPATH, '//*[@role=\"alert\"]')\n>           assert 'Coupon code already applied!' in coupon.text\nE           assert 'Coupon code already applied!' in 'Coupon code applied successfully.'\nE            +  where 'Coupon code applied successfully.' = <selenium.webdriver.remote.webelement.WebElement (session=\"71c3f1ca94762c196537f7b1060c941f\", element=\"f.E61788614798698857E884D7B20A9DEA.d.45B73267C8A683C307252B04669B82CB.e.169\")>.text\n\nfinal_work.py:313: AssertionError"}, "steps": [{"name": "Авторизоваться на сайте", "status": "passed", "steps": [{"name": "Переход на страницу https://pizzeria.skillbox.cc/my-account/", "status": "passed", "start": 1737211927742, "stop": 1737211945401}, {"name": "В поле \"Имя пользователя\" ввести \"Andrey5\"", "status": "passed", "start": 1737211945401, "stop": 1737211948490}, {"name": "В поле \"Пароль\" ввести \"1Pizza5\"", "status": "passed", "start": 1737211948490, "stop": 1737211951566}, {"name": "Нажать \"Войти\"", "status": "passed", "start": 1737211951566, "stop": 1737211956783}], "start": 1737211927742, "stop": 1737211959784}, {"name": "Добавить пиццу \"Ветчина и грибы\" в \"Корзину\"", "status": "passed", "start": 1737211959784, "stop": 1737211976053}, {"name": "Примените промокод GIVEMEHALYAVA.", "status": "passed", "start": 1737211976053, "stop": 1737211979159}, {"name": "Нажать \"Применить купон\"", "status": "passed", "start": 1737211979159, "stop": 1737211982243}, {"name": "Нажать \"Прейти к оплате\"", "status": "passed", "start": 1737211982243, "stop": 1737211986818}, {"name": "Нажать чек-бокс \"I have read and agree to the website terms and conditions\"", "status": "passed", "start": 1737211986818, "stop": 1737211989911}, {"name": "Нажать \"Оформить заказ\"", "status": "passed", "start": 1737211989911, "stop": 1737211992994}, {"name": "Добавить пиццу \"Ветчина и грибы\" в \"Корзину\"", "status": "passed", "start": 1737211992994, "stop": 1737212007658}, {"name": "Очистить поле \"Промокод\"", "status": "passed", "start": 1737212007658, "stop": 1737212010707}, {"name": "Примените промокод GIVEMEHALYAVA.", "status": "passed", "start": 1737212010707, "stop": 1737212013787}, {"name": "Нажать \"Применить купон\"", "status": "passed", "start": 1737212013787, "stop": 1737212016861}, {"name": "Проверить, что второй раз промокод уже не срабатывает для пользователя.", "status": "failed", "statusDetails": {"message": "AssertionError: assert 'Coupon code already applied!' in 'Coupon code applied successfully.'\n +  where 'Coupon code applied successfully.' = <selenium.webdriver.remote.webelement.WebElement (session=\"71c3f1ca94762c196537f7b1060c941f\", element=\"f.E61788614798698857E884D7B20A9DEA.d.45B73267C8A683C307252B04669B82CB.e.169\")>.text\n", "trace": "  File \"C:\\Users\\Serjan777\\PycharmProjects\\pythonProject\\Tests\\homework\\final_work.py\", line 313, in test_apply_promo_code_4\n    assert 'Coupon code already applied!' in coupon.text\n"}, "start": 1737212016861, "stop": 1737212016901}], "attachments": [{"name": "log", "source": "f8bdbcb3-040f-4528-aa6e-bbb77cd385d6-attachment.txt", "type": "text/plain"}], "start": 1737211927741, "stop": 1737212016906, "uuid": "b0c446dc-c640-476a-b976-3873f872dea8", "historyId": "a8e5b66c08009dc5236cbe0810b969b7", "testCaseId": "a8e5b66c08009dc5236cbe0810b969b7", "fullName": "Tests.homework.final_work.TestValidate#test_apply_promo_code_4", "labels": [{"name": "story", "value": "Waiting page load"}, {"name": "feature", "value": "Full Accounts"}, {"name": "parentSuite", "value": "Tests.homework"}, {"name": "suite", "value": "final_work"}, {"name": "subSuite", "value": "TestValidate"}, {"name": "host", "value": "Admin"}, {"name": "thread", "value": "13552-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Tests.homework.final_work"}]}